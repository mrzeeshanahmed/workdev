# Implementation Plan: Public marketplace and developer directory

**Branch**: `002-title-public-marketplace` | **Date**: 2025-09-15 | **Spec**: `spec.md`
**Input**: Feature specification from `/specs/002-title-public-marketplace/spec.md`

## Execution Flow (/plan command scope)
```
1. Load feature spec from Input path
   → If not found: ERROR "No feature spec at {path}"
2. Fill Technical Context (scan for NEEDS CLARIFICATION)
   → Detect Project Type from context (web=frontend+backend, mobile=app+api)
   → Set Structure Decision based on project type
3. Evaluate Constitution Check section below
   → If violations exist: Document in Complexity Tracking
   → If no justification possible: ERROR "Simplify approach first"
   → Update Progress Tracking: Initial Constitution Check
4. Execute Phase 0 → research.md
   → If NEEDS CLARIFICATION remain: ERROR "Resolve unknowns"
5. Execute Phase 1 → contracts, data-model.md, quickstart.md
6. Re-evaluate Constitution Check section
   → If new violations: Refactor design, return to Phase 1
   → Update Progress Tracking: Post-Design Constitution Check
7. Plan Phase 2 → Describe task generation approach (DO NOT create tasks.md)
8. STOP - Ready for /tasks command
```

---

## Summary
This implementation plan covers the public-facing marketplace and developer directory for WorkDev. The goal is to provide public project listings (including a curated Featured Projects section), robust search and filtering by keywords, skills, budget (USD-only), and project type, plus a browsable developer directory. This plan produces research, a concrete data model, API contracts (OpenAPI), and a quickstart for developers to begin Phase 2 task generation.

## Technical Context
- Language/Version: Web application (frontend + backend). Specific stacks deferred to implementation, but the repository standard is TypeScript/Node + React.
- Primary Dependencies: PostgreSQL (storage), HTTP API (REST), optional search indexing (Postgres tsvector for v1)
- Storage: PostgreSQL
- Testing: Vitest for frontend; backend tests TBD (suggest Jest or Vitest)
- Target Platform: Linux/Node server for API; browser for frontend
- Project Type: Web application (frontend + backend)
- Performance Goals: Reasonable paging and filter response within 200-500ms p95 for small to medium data sizes; scale discussion deferred
- Constraints: v1 uses USD only and a controlled skills taxonomy; no external paid search service in v1
- Scale/Scope: Initial rollout expected to support thousands of projects and developer profiles; plan for indexing and pagination

## Constitution Check
- Simplicity: Keep feature scope to listing, search/filter, and developer directory (max 3 subprojects: API, frontend, tests).
- Architecture: Follow repository's library-first approach; create backend APIs as a small service/library and frontend components under `frontend/`.
- Testing: TDD approach enforced — contract tests and integration tests before implementation.
- Observability: Instrument search impressions and featured impressions in analytics events.
- Versioning: Feature tracked under branch `002-title-public-marketplace`.

## Phase 0: Outline & Research (completed)
- Research artifacts: `research.md` (created)
- Key decisions resolved during research:
  - Use simple keyword search (substring/ILIKE) against titles, descriptions, skills.
  - Use a curated, predefined skills taxonomy (no user-generated skills in v1).
  - Budgets in USD only; support fixed-price and hourly projects.
  - Developer profiles public by default.

## Phase 1: Design & Contracts (completed)
- Data model created: `data-model.md`
- API contracts created: `contracts/openapi.yaml`
- Quickstart for developers: `quickstart.md`

## Phase 2: Task Planning Approach (stopped here)
- Tasks will be generated by the `/tasks` command. Strategy:
  - Tests-first ordering: contract tests → integration tests → implementation
  - Create DB migrations for `projects`, `developer_profiles`, `skills`, and search indices
  - Implement backend endpoints returning controlled card shapes and pagination metadata
  - Implement frontend listing pages and a Featured Projects section

## Progress Tracking
**Phase Status**:
- [x] Phase 0: Research complete (/plan command)
- [x] Phase 1: Design complete (/plan command)
- [ ] Phase 2: Task planning complete (/tasks command)
- [ ] Phase 3: Tasks generated (/tasks command)
- [ ] Phase 4: Implementation complete
- [ ] Phase 5: Validation passed

**Gate Status**:
- [x] Initial Constitution Check: PASS
- [ ] Post-Design Constitution Check: PENDING
- [x] All NEEDS CLARIFICATION resolved
- [ ] Complexity deviations documented

---

Artifacts created in this phase:
- `research.md`
- `data-model.md`
- `quickstart.md`
- `contracts/openapi.yaml`
