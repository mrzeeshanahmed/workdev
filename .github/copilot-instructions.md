````markdown
# Repository AI assistant notes (GitHub Copilot / code-writing agents)

This file is auto-generated / hand-edited to provide concise, actionable guidance for code-writing AI agents working in this repository.

## Active technologies & quick commands
- Project uses the repository-driven planning templates under `.specify/` (see `.specify/templates/plan-template.md`).
- Typical commands (generated from feature plans):
  - If code is Python: run tests with `cd src && pytest && ruff check .` (see `.specify/scripts/powershell/update-agent-context.ps1`)
  - If JavaScript/TypeScript: run `npm test && npm run lint`
  - If Rust: run `cargo test && cargo clippy`

## Big-picture architecture and patterns (discoverable)
- This repo follows a "library-first", test-first approach as enforced by templates under `.specify/`:
  - Feature work is organized under `specs/[feature-name]/` with `plan.md`, `data-model.md`, `quickstart.md`, and `contracts/`.
  - Plans use the constitution and TDD gating: generate failing tests from contracts before implementation (see `plan-template.md`).

## Key developer workflows (what AI agents should do)
- When implementing a feature: prefer generating or updating files under `specs/<feature>/` first (plan.md → research.md → data-model.md → contracts).
- Create contract-level tests that intentionally fail before adding implementation.
- Use the PowerShell helper to update agent context files: `.specify/scripts/powershell/update-agent-context.ps1 -AgentType copilot` (updates/creates `.github/copilot-instructions.md`).

## Project-specific conventions
- "Library-first": prefer creating libraries under `src/` (not direct app changes). See Constitution and plan-template.md for rules.
- Strict TDD: tests must be added before feature code (red → green → refactor).
- Keep autogenerated agent-context files short (<150 lines) and include only active technologies.

## Integration points and external dependencies
- Plans may declare primary dependencies in `plan.md` under **Primary Dependencies** — use these to determine test and lint commands.
- Agent files (CLAUDE.md, GEMINI.md, `.github/copilot-instructions.md`) are expected at repo root and are updated by `update-agent-context.ps1`.

## Examples / Patterns to follow (concrete)
- Feature plan excerpt to mimic when adding new feature files:

  - specs/my-feature/plan.md: include sections "Technical Context", "Constitution Check", and "Execution Flow" (see `.specify/templates/plan-template.md`).

  - Contract tests: one test file per endpoint/schema, placed under `tests/contract/` or adjacent to the generated contract.

## What NOT to change or invent
- Do not alter the constitution or templates directly unless explicitly instructed — changes to `.specify/templates/*` affect automated planning.
- Avoid adding global tooling assumptions; use commands discovered in `plan.md` or via `update-agent-context.ps1`.

## Quick edit checklist for AI patches
1. Update `specs/<feature>/data-model.md` and `contracts/` first.
2. Add failing contract tests under `tests/contract/` or `specs/<feature>/tests/`.
3. Implement minimal library code under `src/` to satisfy tests.
4. Run the repository's test command appropriate to the declared language.
5. Run `.\.specify\scripts\powershell\update-agent-context.ps1 -AgentType copilot` to refresh this file if the feature adds new tech.

## Where to look for more context
- `.specify/templates/plan-template.md` — execution flow, constitution checks, structure decisions
- `.specify/templates/agent-file-template.md` — canonical layout for agent files
- `.specify/scripts/powershell/update-agent-context.ps1` — how agent files are generated/updated and how commands are inferred

<!-- MANUAL ADDITIONS START -->
<!-- MANUAL ADDITIONS END -->
 
## Tech stack references (context7)
- Frontend: React + TypeScript (see `/websites/react_dev`) — use Suspense/startTransition for smoother route transitions and prefer Vite for fast dev builds (`/vitejs/vite`).
- UI: Tailwind CSS (`/tailwindlabs/tailwindcss.com`) + shadcn/ui (`/websites/ui_shadcn`) for accessible components.
- Animations: GSAP (`/greensock/gsap`) — register plugins and use React-specific integration helpers.
- State & data: Zustand (`/pmndrs/zustand`) for local/global UI state; TanStack Query (`/tanstack/query`) v5 for server-state, caching, optimistic updates and invalidation.
- Backend: Supabase (`/supabase/supabase` and client `/supabase/supabase-js`) — Auth (email + OAuth + MFA), Realtime for `messages`, Storage for `avatars` and `project-files`, Edge Functions for server logic.
- Testing: Vitest (`/vitest-dev/vitest`) and React Testing Library for unit/integration tests.

When adding or upgrading libraries, consult the corresponding context7 library ID above for authoritative snippets and integration patterns (use the MCP `context7` server to fetch: `/supabase/supabase-js`, `/tanstack/query`, `/websites/react_dev`, `/vitejs/vite`, `/tailwindlabs/tailwindcss.com`, `/greensock/gsap`, `/pmndrs/zustand`, `/websites/ui_shadcn`, `/vitest-dev/vitest`).
````
